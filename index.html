<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProRessources - Plateforme Pro</title>
    
    <link rel="icon" href="logo.png" type="image/png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bootstrap-4/bootstrap-4.css">
    
    <link rel="stylesheet" href="style.css">

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

    <meta name="theme-color" content="#0f172a">
</head>
<body>

    <div class="modal fade" id="modal3D" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold"><i class="bi bi-box-seam me-2"></i>Visualisation 3D</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <model-viewer id="viewer3d" src="" alt="Modèle 3D" auto-rotate camera-controls shadow-intensity="1" touch-action="pan-y"></model-viewer>
                    <div class="text-center py-2 text-muted small">Cliquez et glissez pour tourner • Molette pour zoomer</div>
                </div>
            </div>
        </div>
    </div>

    <div id="ad-left" class="ad-sidebar left">
        <div class="p-2 text-muted small">Espace Pub</div>
    </div>
    <div id="ad-right" class="ad-sidebar right">
        <div class="p-2 text-muted small">Espace Pub</div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <i class="bi bi-buildings-fill me-2 text-warning"></i> ProRessources
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon" style="filter: invert(1);"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto ms-3">
                    <li class="nav-item"><a class="nav-link active" href="#" id="btn-annuaire" onclick="changerOnglet('annuaire')">Annuaire</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" id="btn-outils" onclick="changerOnglet('outils')"><i class="bi bi-tools me-1"></i> Outils</a></li>
                    <li class="nav-item" id="nav-biblio-li" style="display: none;"><a class="nav-link" href="#" id="btn-biblio" onclick="changerOnglet('biblio')">Bibliothèque 3D</a></li>
                    <li class="nav-item" id="nav-favoris-li" style="display: none;"><a class="nav-link" href="#" id="btn-favoris" onclick="changerOnglet('favoris')"><i class="bi bi-star-fill text-warning me-1"></i> Favoris</a></li>
                    <li class="nav-item" id="nav-admin" style="display: none;"><a class="nav-link text-danger fw-bold" href="#" id="btn-admin" onclick="changerOnglet('admin')"><i class="bi bi-shield-lock-fill me-1"></i> ADMIN</a></li>
                </ul>
                <div class="d-flex align-items-center">
                    <div id="logged-out-view" style="display: block;"><button onclick="loginWithGoogle()" class="btn btn-sm btn-outline-light px-3 fw-bold"><i class="bi bi-google me-2"></i>Connexion</button></div>
                    <div id="logged-in-view" style="display: none;">
                        <div class="d-flex align-items-center">
                            <img id="user-photo" src="" class="rounded-circle border border-2 border-white me-2" style="width: 36px; height: 36px;">
                            <div class="d-flex flex-column me-3 line-height-1"><span id="user-name" class="text-white fw-bold" style="font-size: 0.9rem;">User</span><small class="text-secondary" style="font-size: 0.75rem;">En ligne</small></div>
                            <a href="#" onclick="logout()" class="text-secondary hover-white" title="Déconnexion"><i class="bi bi-box-arrow-right fs-5"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container py-4" style="flex: 1;">
        
        <div id="section-annuaire" class="fade-in">
            <div class="mb-4"><h2 class="fw-bold mb-1">Annuaire Fournisseurs</h2></div>
            <div class="row mb-4">
                <div class="col-md-3"><div class="card-custom d-flex align-items-center p-3"><div class="rounded-circle bg-light p-3 me-3 text-primary"><i class="bi bi-people-fill fs-4"></i></div><div><h3 class="m-0 fw-bold" id="stat-f-total">0</h3><small class="text-muted">Fournisseurs</small></div></div></div>
                <div class="col-md-3"><div class="card-custom d-flex align-items-center p-3"><div class="rounded-circle bg-light p-3 me-3 text-success"><i class="bi bi-tags-fill fs-4"></i></div><div><h3 class="m-0 fw-bold" id="stat-f-cat">0</h3><small class="text-muted">Catégories</small></div></div></div>
            </div>
            <div class="card-custom mb-4 p-3">
                <div class="row g-2">
                    <div class="col-md-8"><div class="input-group"><span class="input-group-text bg-white border-end-0 ps-3"><i class="bi bi-search text-muted"></i></span><input type="text" id="searchInput" class="form-control form-control-custom border-start-0" placeholder="Rechercher..."></div></div>
                    <div class="col-md-4"><select id="typeFilter" class="form-select form-select-custom"><option value="">Toutes catégories</option><option value="Quincaillerie">Quincaillerie</option><option value="Bois">Bois</option><option value="Électricité">Électricité</option><option value="Isolation">Isolation</option><option value="Métal">Métal</option></select></div>
                </div>
            </div>
            <div class="card-custom p-0 overflow-hidden">
                <div id="loader-annuaire" class="text-center py-5"><div class="loading-spinner"></div><p class="text-muted">Chargement...</p></div>
                <div class="table-responsive">
                    <table class="table table-custom table-hover m-0" id="table-annuaire-wrap" style="display:none;">
                        <thead><tr><th class="ps-4 clickable-header" onclick="trier('nom')">Fournisseur <i class="bi bi-sort-alpha-down ms-1"></i></th><th class="clickable-header" onclick="trier('categorie')">Catégorie <i class="bi bi-filter ms-1"></i></th><th>Description</th><th>Produit</th><th class="text-end pe-4">Action</th></tr></thead>
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="section-outils" class="fade-in" style="display: none;">
            <div class="mb-4">
                <h2 class="fw-bold mb-1">Boîte à Outils</h2>
                <div class="alert alert-warning py-2" style="font-size: 0.8rem;"><i class="bi bi-exclamation-triangle-fill me-2"></i><strong>Attention :</strong> Ces outils sont fournis à titre indicatif. Vérifiez toujours vos calculs. L'auteur décline toute résponsabilité.</div>          
            </div>
            
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card-custom h-100">
                        <div class="d-flex align-items-center mb-3"><div class="rounded-circle bg-light p-3 me-3 text-primary"><i class="bi bi-calculator fs-4"></i></div><h5 class="fw-bold m-0">Poids Panneau</h5></div>
                        <div class="mb-2"><label class="small text-muted">Dimensions (mm)</label><div class="input-group mb-2"><input type="number" id="calc-L" class="form-control" placeholder="L (ex: 2500)" oninput="calcPoids()"><span class="input-group-text">x</span><input type="number" id="calc-l" class="form-control" placeholder="l (ex: 1200)" oninput="calcPoids()"></div></div>
                        <div class="mb-2"><label class="small text-muted">Épaisseur (mm)</label><input type="number" id="calc-ep" class="form-control" placeholder="Ex: 19" oninput="calcPoids()"></div>
                        <div class="mb-3"><label class="small text-muted">Matériau</label><select id="calc-mat" class="form-select" onchange="calcPoids()"><option value="750">MDF (750)</option><option value="650">Aggloméré (650)</option><option value="600">Contreplaqué (600)</option><option value="700">Bois Massif (700)</option><option value="2500">Verre (2500)</option><option value="7850">Acier (7850)</option><option value="2700">Alu (2700)</option><option value="7930">Inox (7930)</option></select></div>
                        <div class="result-box">Poids : <span id="res-poids">0.00</span> kg</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card-custom h-100">
                        <div class="d-flex align-items-center mb-3"><div class="rounded-circle bg-light p-3 me-3 text-success"><i class="bi bi-paint-bucket fs-4"></i></div><h5 class="fw-bold m-0">Surface Peinture</h5></div>
                        <div class="mb-2"><label class="small text-muted">Mur (L x H en m)</label><div class="input-group mb-2"><input type="number" id="surf-L" class="form-control" placeholder="L" oninput="calcSurf()"><span class="input-group-text">x</span><input type="number" id="surf-H" class="form-control" placeholder="H" oninput="calcSurf()"></div></div>
                        <div class="mb-3"><label class="small text-muted">Déductions (m²)</label><input type="number" id="surf-deduct" class="form-control" placeholder="Ex: 2.5" value="0" oninput="calcSurf()"></div>
                        <div class="result-box">Surface : <span id="res-surf">0.00</span> m²</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card-custom h-100">
                        <div class="d-flex align-items-center mb-3"><div class="rounded-circle bg-light p-3 me-3 text-warning"><i class="bi bi-arrow-left-right fs-4"></i></div><h5 class="fw-bold m-0">Convertisseur</h5></div>
                        <div class="mb-3"><label class="small text-muted">Pouces</label><input type="number" id="conv-inch" class="form-control" placeholder="1" oninput="convInchToMm()"></div>
                        <div class="mb-3"><label class="small text-muted">Millimètres</label><input type="number" id="conv-mm" class="form-control" placeholder="25.4" oninput="convMmToInch()"></div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card-custom h-100" id="card-Escalier">
                        <div class="d-flex align-items-center mb-3"><div class="rounded-circle bg-light p-3 me-3 text-danger"><i class="bi bi-layers-half fs-4"></i></div><div><h5 class="fw-bold m-0">Escalier Expert</h5><small class="text-muted" style="font-size: 0.7rem;">Blondel Auto + Limons + Trémie</small></div></div>
                        <div class="row g-2 mb-2">
                            <div class="col-6"><label class="small text-muted">Forme</label><select id="esc-type" class="form-select form-select-sm" onchange="updateEscLabel(); calcEscalier()"><option value="droit">Droit</option><option value="L">1/4 Tournant</option></select></div>
                            <div class="col-6"><label class="small text-muted">Largeur (mm)</label><input type="number" id="esc-largeur" class="form-control form-control-sm" placeholder="Ex: 900" oninput="calcEscalier()"></div>
                        </div>
                        <div class="row g-2 mb-2">
                            <div class="col-6"><label class="small text-muted">Hauteur (mm)</label><input type="number" id="esc-ht" class="form-control form-control-sm" placeholder="Sol à Sol" oninput="calcEscalier()"></div>
                            <div class="col-6"><label class="small text-muted" id="label-rec">Recul. (mm)</label><input type="number" id="esc-rec" class="form-control form-control-sm" placeholder="Dispo max" oninput="calcEscalier()"></div>
                        </div>
                        <div class="mb-3">
                            <a class="text-decoration-none small fw-bold text-primary" data-bs-toggle="collapse" href="#advancedEsc" role="button"><i class="bi bi-gear-fill me-1"></i>Trémie & Dalle</a>
                            <div class="collapse mt-2" id="advancedEsc"><div class="card card-body p-2 bg-light border-0"><div class="row g-2"><div class="col-6"><label class="small text-muted">Trémie</label><input type="number" id="esc-tremie" class="form-control form-control-sm" placeholder="Long." oninput="calcEscalier()"></div><div class="col-6"><label class="small text-muted">Dalle</label><input type="number" id="esc-dalle" class="form-control form-control-sm" placeholder="Épais." oninput="calcEscalier()"></div></div></div></div>
                        </div>
                        <div class="result-box mt-auto text-start">
                            <div id="esc-res-titre" class="fw-bold mb-1 text-center">...</div><div style="font-size: 0.8rem; line-height: 1.4;" id="esc-res-txt" class="text-center text-muted mb-2">Remplissez les dimensions.</div>
                            <div id="esc-details" class="mt-2 pt-2 border-top" style="display:none; font-size: 0.75rem;">
                                <div class="d-flex justify-content-between mb-1"><span>Pente :</span> <strong id="res-angle">--°</strong></div>
                                <div class="d-flex justify-content-between mb-1"><span>Limon Intérieur :</span> <strong id="res-limon-int" class="text-primary">--</strong></div>
                                <div class="d-flex justify-content-between"><span>Limon Extérieur :</span> <strong id="res-limon-ext" class="text-primary">--</strong></div>
                                <div class="text-center mt-1 text-muted fst-italic" style="font-size: 0.65rem;">*Inclus marge de coupe +30cm</div>
                            </div>
                            <div id="esc-echappee-box" class="mt-2 pt-2 border-top" style="display:none; font-size: 0.75rem;"><div class="d-flex justify-content-between"><span>Échappée tête :</span><strong id="res-echappee-val">--</strong></div><div id="res-echappee-msg" class="text-end fst-italic"></div></div>
                        </div>
                        <button onclick="ajouterAuProjet('Escalier')" id="btn-add-Escalier" class="btn btn-sm btn-outline-dark w-100 mt-2"><i class="bi bi-plus-circle me-1"></i>Ajouter au projet</button>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card-custom h-100" id="card-Plafond">
                        <div class="d-flex align-items-center mb-3"><div class="rounded-circle bg-light p-3 me-3 text-secondary"><i class="bi bi-grid-3x3 fs-4"></i></div><div><h5 class="fw-bold m-0">Faux Plafond</h5><small class="text-muted" style="font-size: 0.7rem;">Calepinage & Matériaux</small></div></div>
                        <div class="row g-2 mb-2">
                            <div class="col-6"><label class="small text-muted">Long. Salle (mm)</label><input type="number" id="plaf-L" class="form-control form-control-sm" placeholder="Ex: 4500" oninput="calcPlafond()"></div>
                            <div class="col-6"><label class="small text-muted">Larg. Salle (mm)</label><input type="number" id="plaf-l" class="form-control form-control-sm" placeholder="Ex: 3200" oninput="calcPlafond()"></div>
                        </div>
                        <div class="mb-3">
                            <label class="small text-muted">Format Dalle</label>
                            <select id="plaf-type" class="form-select form-select-sm" onchange="calcPlafond()"><option value="600-600">600 x 600 mm (Standard)</option><option value="1200-600">1200 x 600 mm</option></select>
                        </div>
                        <div class="result-box mt-auto text-start">
                            <div id="plaf-res-titre" class="fw-bold mb-1 text-center">...</div>
                            <div id="plaf-calepinage" class="small border-bottom pb-2 mb-2" style="display:none;">
                                <div class="d-flex justify-content-between"><span class="text-muted">Sens Longueur :</span><strong id="res-pose-L" class="text-end">--</strong></div>
                                <div class="text-end fst-italic text-muted" style="font-size:0.65rem;" id="res-rive-L">Coupes : --</div>
                                <div class="d-flex justify-content-between mt-1"><span class="text-muted">Sens Largeur :</span><strong id="res-pose-l" class="text-end">--</strong></div>
                                <div class="text-end fst-italic text-muted" style="font-size:0.65rem;" id="res-rive-l">Coupes : --</div>
                            </div>
                            <div id="plaf-matos" class="row g-1 text-center" style="display:none; font-size: 0.7rem;">
                                <div class="col-4"><div class="bg-white border rounded p-1"><strong id="qty-dalles" class="d-block text-primary">0</strong>Dalles</div></div>
                                <div class="col-4"><div class="bg-white border rounded p-1"><strong id="qty-porteurs" class="d-block">0</strong>Porteurs</div></div>
                                <div class="col-4"><div class="bg-white border rounded p-1"><strong id="qty-cornieres" class="d-block">0</strong>Cornières</div></div>
                                <div class="col-6 mt-1"><div class="bg-white border rounded p-1"><strong id="qty-ent-1200" class="d-block">0</strong>Entret. 1200</div></div>
                                <div class="col-6 mt-1"><div class="bg-white border rounded p-1"><strong id="qty-ent-600" class="d-block">0</strong>Entret. 600</div></div>
                            </div>
                        </div>
                        <button onclick="ajouterAuProjet('Plafond')" id="btn-add-Plafond" class="btn btn-sm btn-outline-dark w-100 mt-2"><i class="bi bi-plus-circle me-1"></i>Ajouter au projet</button>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card-custom h-100" id="card-Carrelage">
                        <div class="d-flex align-items-center mb-3"><div class="rounded-circle bg-light p-3 me-3 text-info"><i class="bi bi-grid-fill fs-4"></i></div><div><h5 class="fw-bold m-0">Carrelage Sol</h5><small class="text-muted" style="font-size: 0.7rem;">Calepinage & Colle Pro</small></div></div>
                        <div class="row g-2 mb-2">
                            <div class="col-6"><label class="small text-muted">Long. Pièce (mm)</label><input type="number" id="carr-L" class="form-control form-control-sm" placeholder="Ex: 5000" oninput="calcCarrelage()"></div>
                            <div class="col-6"><label class="small text-muted">Larg. Pièce (mm)</label><input type="number" id="carr-l" class="form-control form-control-sm" placeholder="Ex: 4500" oninput="calcCarrelage()"></div>
                        </div>
                        <div class="row g-2 mb-3">
                            <div class="col-6"><label class="small text-muted">Long. Carreau (cm)</label><input type="number" id="tile-L" class="form-control form-control-sm" placeholder="Ex: 60" oninput="calcCarrelage()"></div>
                            <div class="col-6"><label class="small text-muted">Larg. Carreau (cm)</label><input type="number" id="tile-l" class="form-control form-control-sm" placeholder="Ex: 60" oninput="calcCarrelage()"></div>
                        </div>
                        <div class="result-box mt-auto text-start">
                            <div id="carr-res-titre" class="fw-bold mb-1 text-center">...</div>
                            <div id="carr-details" class="row g-1 text-center" style="display:none; font-size: 0.7rem;">
                                <div class="col-4"><div class="bg-white border rounded p-1 h-100 d-flex flex-column justify-content-center"><strong id="res-nb-carreaux" class="d-block text-primary fs-6">0</strong><span class="text-muted">Carreaux</span><small class="text-muted fst-italic" style="font-size:0.6rem">Grille +5%</small></div></div>
                                <div class="col-4"><div class="bg-white border rounded p-1 h-100 d-flex flex-column justify-content-center"><strong id="res-colle" class="d-block text-danger fs-6">0</strong><span class="text-muted">kg Colle</span><small id="info-encollage" class="text-muted fst-italic" style="font-size:0.6rem">--</small></div></div>
                                <div class="col-4"><div class="bg-white border rounded p-1 h-100 d-flex flex-column justify-content-center"><strong id="res-plinthes-ml" class="d-block text-dark fs-6">0 m</strong><span class="text-muted"><span id="res-plinthes-nb">0</span> Plinthes</span><small class="text-muted fst-italic" style="font-size:0.6rem">Marge +5%</small></div></div>
                                <div class="col-12 mt-1"><div class="bg-light border-0 rounded p-1 text-muted fst-italic" style="font-size: 0.65rem;"><span id="res-grille-info">--</span></div></div>
                            </div>
                        </div>
                        <button onclick="ajouterAuProjet('Carrelage')" id="btn-add-Carrelage" class="btn btn-sm btn-outline-dark w-100 mt-2"><i class="bi bi-plus-circle me-1"></i>Ajouter au projet</button>
                    </div>
                </div>

            <!-- SECTION GESTION DES PROJETS -->
            <div class="row mt-5 pb-5">
                <div class="col-12">
                    <div class="card-custom border-top border-4 border-dark">
                        <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
                            <div class="d-flex align-items-center flex-grow-1">
                                <i class="bi bi-folder2-open fs-3 me-3 text-dark"></i>
                                <div class="w-100"><input type="text" id="project-name" class="form-control fw-bold border-0 p-0 fs-4 bg-transparent" placeholder="Mon Chantier..." oninput="saveProjectName()"></div>
                            </div>
                            <div><button onclick="genererPDF()" class="btn btn-dark btn-sm"><i class="bi bi-file-earmark-pdf me-1"></i>Exporter PDF</button></div>
                        </div>
                        <div class="table-responsive mb-4">
                            <table class="table table-hover align-middle" id="tableau-projet">
                                <thead class="table-light"><tr><th>Lot</th><th>Zone</th><th>Détails</th><th>Matériaux</th><th class="text-end">Action</th></tr></thead>
                                <tbody id="projet-body"></tbody>
                            </table>
                        </div>
                        <div id="empty-projet-msg" class="text-center text-muted py-4">Aucun calcul enregistré.</div>
                        <div id="zone-totaux" class="bg-light p-3 rounded border" style="display:none;"><h6 class="fw-bold text-uppercase text-muted mb-3"><i class="bi bi-calculator me-2"></i>Totaux Globaux</h6><div class="row g-3" id="container-totaux"></div></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="section-biblio" class="fade-in" style="display: none;">
            <div class="mb-4"><h2 class="fw-bold mb-1">Bibliothèque Technique</h2><p class="text-muted">Modèles 3D et plans.</p></div>
            <div class="row mb-4"><div class="col-md-3"><div class="card-custom d-flex align-items-center p-3"><div class="rounded-circle bg-light p-3 me-3 text-warning"><i class="bi bi-box-fill fs-4"></i></div><div><h3 class="m-0 fw-bold" id="stat-b-total">0</h3><small class="text-muted">Fichiers</small></div></div></div></div>
            <div id="auth-wall" class="card-custom text-center py-5 mb-4 border-0" style="background: linear-gradient(135deg, #fff 0%, #f1f5f9 100%);"><div class="mb-3"><i class="bi bi-shield-lock text-warning" style="font-size: 3.5rem;"></i></div><h3 class="fw-bold mb-3">Accès Réservé</h3><button onclick="loginWithGoogle()" class="btn btn-dark btn-lg px-5 shadow-lg rounded-pill"><i class="bi bi-google me-2"></i> Connexion</button></div>
            <div id="biblio-content" style="display: none;">
                <div class="card-custom mb-4 p-3"><div class="row g-2"><div class="col-md-6"><div class="input-group"><span class="input-group-text bg-white border-end-0 ps-3"><i class="bi bi-search text-muted"></i></span><input type="text" id="searchBiblio" class="form-control form-control-custom border-start-0" placeholder="Rechercher..."></div></div><div class="col-md-3"><select id="filterLogiciel" class="form-select form-select-custom"><option value="">Tous logiciels</option><option value="SolidWorks">SolidWorks</option><option value="SketchUp">SketchUp</option><option value="AutoCAD">AutoCAD</option></select></div></div></div>
                <div class="card-custom p-0 overflow-hidden"><div id="loader-biblio" class="text-center py-5"><div class="loading-spinner"></div><p class="text-muted">Chargement...</p></div><div class="table-responsive"><table class="table table-custom table-hover m-0" id="table-biblio-wrap" style="display:none;"><thead><tr><th class="ps-4">Nom</th><th>Logiciel</th><th>Description</th><th>Catégorie</th><th class="text-end pe-4">Action</th></tr></thead><tbody id="biblioBody"></tbody></table></div></div>
            </div>
        </div>

        <div id="section-favoris" class="fade-in" style="display: none;">
            <div class="mb-4"><h2 class="fw-bold mb-1">Mes Favoris</h2></div>
            <div class="card-custom p-0 overflow-hidden"><div class="table-responsive"><table class="table table-custom table-hover m-0"><thead><tr><th class="ps-4">Nom</th><th>Type</th><th>Infos</th><th class="text-end pe-4">Action</th></tr></thead><tbody id="favBody"><tr><td colspan="4" class="text-center p-4 text-muted">Vous n'avez pas encore de favoris.</td></tr></tbody></table></div></div>
        </div>

        <div id="section-admin" class="fade-in" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4"><h2 class="fw-bold text-danger">Administration</h2><button onclick="resetAdminForms()" class="btn btn-outline-secondary btn-sm">Reset</button></div>
            <div class="row">
                <div class="col-md-6"><div class="card-custom border-top border-4 border-danger"><h5 class="fw-bold mb-3">Fournisseurs</h5><form id="formFournisseur" onsubmit="sauvegarderFournisseur(event)"><input type="hidden" id="adm-f-uid"><div class="mb-2"><input type="text" id="adm-f-nom" class="form-control" placeholder="Nom" required></div><div class="mb-2"><select id="adm-f-cat" class="form-select"><option value="Quincaillerie">Quincaillerie</option><option value="Bois">Bois</option><option value="Électricité">Électricité</option><option value="Isolation">Isolation</option><option value="Métal">Métal</option><option value="Carrelage">Carrelage</option></select></div><div class="mb-2"><input type="text" id="adm-f-desc" class="form-control" placeholder="Description"></div><div class="mb-2"><input type="text" id="adm-f-prod" class="form-control" placeholder="Produit"></div><div class="mb-3"><input type="url" id="adm-f-lien" class="form-control" placeholder="Lien" required></div><button type="submit" id="btn-save-f" class="btn btn-dark w-100">Enregistrer</button></form></div></div>
                <div class="col-md-6"><div class="card-custom border-top border-4 border-primary"><h5 class="fw-bold mb-3">Bibliothèque</h5><form id="formBiblio" onsubmit="sauvegarderFichier(event)"><input type="hidden" id="adm-b-uid"><div class="mb-2"><input type="text" id="adm-b-nom" class="form-control" placeholder="Nom" required></div><div class="row g-2 mb-2"><div class="col"><select id="adm-b-log" class="form-select"><option value="SolidWorks">SolidWorks</option><option value="SketchUp">SketchUp</option><option value="AutoCAD">AutoCAD</option></select></div><div class="col"><input type="text" id="adm-b-type" class="form-control" placeholder="Ext"></div></div><div class="mb-2"><input type="text" id="adm-b-cat" class="form-control" placeholder="Catégorie"></div><div class="mb-2"><input type="text" id="adm-b-desc" class="form-control" placeholder="Desc"></div><div class="mb-2"><input type="url" id="adm-b-lien" class="form-control" placeholder="Lien DL" required></div><div class="mb-2"><input type="url" id="adm-b-visu" class="form-control" placeholder="Lien Visu 3D (.glb)"></div><div class="mb-3"><input type="number" id="adm-b-prix" class="form-control" placeholder="Prix" value="0"></div><button type="submit" id="btn-save-b" class="btn btn-dark w-100">Enregistrer</button></form></div></div>
            </div>
        </div>

    </div>

    <footer class="footer mt-auto py-4 bg-white border-top">
        <div class="container text-center"><p class="m-0 fw-bold mb-2">ProRessources &copy; 2025</p></div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module" src="app.js"></script>

</body>
</html>